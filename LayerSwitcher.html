<!DOCTYPE html>
<html>
<head>
    <!-- Library Leaflet -->
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <script src="leaflet/leaflet.js"></script>

    <!-- Extension GÃ©oportail pour Leaflet -->
    <script src="GpPluginLeaflet/GpPluginLeaflet.js"></script>
    <link rel="stylesheet" href="GpPluginLeaflet/GpPluginLeaflet.css" />
    <style>
        #map {
            padding: 5px;
            width: 100%;
            height: 600px;
            box-shadow: 0 0 10px #999;
        }

        #info {
            padding: 5px;
            width: 100%;
            height: 20px;
            font-family: monospace;
        }
    </style>
    <script>
        function go() {
            map = L.map("map").setView([48.845, 2.424], 5);
            var lyrOSM= L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png?') ;
            var lyrOrtho = L.geoportalLayer.WMTS({
                layer: "ORTHOIMAGERY.ORTHOPHOTOS",
            });
            var lyrMaps = L.geoportalLayer.WMTS({
                layer: "GEOGRAPHICALGRIDSYSTEMS.MAPS",
            }, { // leafletParams
                opacity: 0.7
            });

            map.addLayer(lyrOrtho);
            map.addLayer(lyrOSM) ;
            map.addLayer(lyrMaps) ;
            var layerSwitcher = L.geoportalControl.LayerSwitcher({
                layers : [{
                    layer : lyrOSM,
                    config : {
                        title : "OSM",
                        description : "Couche Open Street Maps"
                    }
                }]
            });
            map.addControl(layerSwitcher);

        }

        Gp.Services.getConfig({
            apiKey : "jhyvi0fgmnuxvfv0zjzorvdn",
            onSuccess : go
        }) ;
    </script>
</head>

<body>
    <div id="map"></div>
    <div id="info"></div>

</body>
</html>